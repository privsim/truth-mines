# Truth Mines Core Schema Configuration
# Defines valid domains, relations, and validation rules

version = "1.0.0"

# Known domains for the knowledge graph
[domains]
known = ["philosophy", "mathematics", "physics"]

# Universal relations (applicable across all domains)
[relations.universal]
values = [
    "supports",      # Evidence or argument supporting a claim
    "attacks",       # Evidence or argument against a claim
    "entails",       # Logical entailment
    "defines",       # Definitional relationship
    "cites"          # Citation or reference
]

# Philosophy-specific relations
[relations.philosophy]
values = [
    "presupposes",          # Conceptual presupposition
    "refutes",              # Philosophical refutation
    "explicates"            # Conceptual explication
]

# Mathematics-specific relations
[relations.mathematics]
values = [
    "proves",               # Proof relationship
    "generalizes",          # Generalization
    "equivalent",           # Logical equivalence
    "lemma_for",            # Lemma used in proof
    "corollary_of"          # Direct consequence
]

# Physics-specific relations
[relations.physics]
values = [
    "predicts",             # Theory predicts observation
    "explains",             # Theory explains phenomenon (Gemini addition: backward-looking)
    "limiting_case_of",     # Formal limiting case (Gemini addition: stronger than approximates)
    "tests",                # Experimental test of theory
    "approximates",         # Approximation relationship
    "reduces_to",           # Reduction (e.g., classical limit)
    "unifies"               # Unification of theories
]

# Cross-domain bridge relations
[relations.bridges]
values = [
    "formalizes",                  # Philosophy → Mathematics (formal model)
    "models",                      # Mathematics → Physics (mathematical model)
    "philosophical_foundation",    # Philosophy → Other (conceptual foundation)
    "empirical_grounding",         # Physics → Other (empirical basis)
    "applies_to"                   # General application relationship
]

# Relation inverses (Gemini 3 Pro addition)
# Enables backward reasoning for LLMs without explicit reverse edges
# These are metadata for reasoning, not storage - actual edges remain directed
[relations.inverses]
supports = "supported_by"
attacks = "attacked_by"
entails = "entailed_by"
proves = "proven_by"
predicts = "predicted_by"
explains = "explained_by"
limiting_case_of = "limiting_case_yields"
defines = "defined_by"
generalizes = "specialized_by"
approximates = "approximated_by"
reduces_to = "reduces_from"
formalizes = "formalized_by"
models = "modeled_by"
presupposes = "presupposed_by"
refutes = "refuted_by"
lemma_for = "has_lemma"
corollary_of = "has_corollary"
tests = "tested_by"
unifies = "unified_by"
equivalent = "equivalent_to"  # symmetric
cites = "cited_by"
explicates = "explicated_by"
philosophical_foundation = "philosophically_grounded_in"
empirical_grounding = "empirically_grounded_in"
applies_to = "applied_from"

# Validation settings
[validation]
# Require all domains to be in known list when strict mode enabled
strict_domains = true

# Require all relations to be in defined lists when strict mode enabled
strict_relations = true

# Maximum depth for path queries (performance safety)
max_path_depth = 20

# Node ID format validation (regex)
node_id_pattern = "^[a-z0-9]{6}$"
